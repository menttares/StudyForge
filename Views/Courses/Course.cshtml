@{
    ViewData["Title"] = "Обучение";

    var course = ViewData["Course"] as CourseModel;
    var studyGroups = ViewData["StudyGroup"] as List<StudyGroupResultModel>;
    var programs = ViewData["Program"] as List<ProgramModelCourse>;
    var teachers = ViewData["Teacher"] as List<TeacherModel>;
}


<div class="course-header mt-5">
    <a asp-action="" asp-controller="Courses" class="course-header__exit">
        << вернуться назад </a>

            <div class="course-header__title">
                @course.CourseName
            </div>

            <div class="course-header__description-container mt-2">
                <div class="course-header__description-title">описание</div>
                <div class="course-header__description-content">@course.CourseDescription</div>
            </div>
</div>


<div class="course-study_groups mt-5">
    <div class="course-study_groups__title">учебные группы</div>
    <div class="course-study_groups__container mt-2">

        @foreach (var group in studyGroups)
        {
            <div class="study_group">
                <div class="study_group__title">учебная группа</div>
                <div class="study_group__row">
                    <div class="study_group__col">Набор</div>
                    <div class="study_group__col">@group.AcceptedApplicationsCount / @group.Enrollment </div>
                </div>
                <div class="study_group__row">
                    <div class="study_group__col">форма обучения</div>
                    <div class="study_group__col">@group.FormOfStudyName </div>
                </div>
                <div class="study_group__row">
                    <div class="study_group__col">время занятий</div>
                    <div class="study_group__col">@group.StudyDays </div>
                </div>
                <div class="study_group__row">
                    <div class="study_group__col">город</div>
                    <div class="study_group__col">@group.CityName </div>
                </div>
                <div class="study_group__row">
                    <div class="study_group__col">город</div>
                    <div class="study_group__col">@group.CityName </div>
                </div>
                <div class="study_group__row">
                    <div class="study_group__col">Дата страта</div>
                    <div class="study_group__col">@group.DateStart </div>
                </div>
                <div class="study_group__row">
                    <div class="study_group__col">длительность</div>
                    <div class="study_group__col">@group.Duration </div>
                </div>
                <div class="study_group__price-container mt-3">
                    <div class="study_group__price">
                        <div>@group.Price BYN</div>
                        <div class="study_group__price__subtitle">полная цена</div>
                    </div>
                </div>
                <div class="study_group__price__container-buttons mt-3">
                    <div data-id="@group.GroupId" class="button event-click-group">записаться</div>
                </div>
            </div>
        }
    </div>

    <div class="course-programs mt-5">
        <div class="course-programs__title">Программа курса</div>

        <div class="course-programs__container-program mt-3">
            @foreach (var program in programs)
            {
                <div class="course-program">
                    <div class="course-program__title"> @program.ProgramName </div>
                    <div class="course-program__description">@program.ProgramDescription </div>
                </div>
            }

        </div>
    </div>

    @if (course.ProfileIsOrganization == false)
    {
        <div class="course-teachers mt-5">
            <div class="course-teachers__title">Преподаватель</div>
            <div class="course-teachers__container">
                <div class="course-teacher">
                    <div class="course-teacher__img">
                        <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" fill="currentColor"
                            class="bi bi-person" viewBox="0 0 16 16">
                            <path
                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z" />
                        </svg>
                    </div>
                    <div class="course-teacher__name">@course.ProfileName</div>
                    <div class="course-teacher__specialization">@course.ProfileSpecialization</div>
                    <div class="course-teacher__aboutMe mt-3">@course.ProfileAboutMe</div>
                </div>
            </div>
        </div>
    }
    else if (course.ProfileIsOrganization == true)
    {
        <div class="course-teachers mt-5">
            <div class="course-teachers__title">Преподаватель</div>
            <div class="course-teachers__container">
                @foreach (var teacher in teachers)
                {
                    <div class="course-teacher">
                        <div class="course-teacher__img">
                            <svg xmlns="http://www.w3.org/2000/svg" width="150" height="150" fill="currentColor"
                                class="bi bi-person" viewBox="0 0 16 16">
                                <path
                                    d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z" />
                            </svg>
                        </div>
                        <div class="course-teacher__name">@teacher.FirstName </div>
                        <div class="course-teacher__specialization">@teacher.Specialization </div>
                        <div class="course-teacher__aboutMe mt-3">@teacher.AboutMe </div>
                    </div>
                }
            </div>
        </div>
    }

</div>




<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Новая заявка</h2>
        <form id="applicationForm" action="/Courses/Recording" method="post">
            @* <input type="hidden" name="StudyGroupId" id="studyGroupIdInput" value=""> *@

            <label for="firstName">Имя:</label>
            <input type="text" id="firstName" name="firstName" required><br><br>
            <label for="phone">Телефон:</label>
            <input type="tel" id="phone" name="phone" pattern="^\+375(29|33|44|25|17)\d{3}\d{2}\d{2}$" required
                title="Введите номер телефона в формате +375XXXXXXXXX"><br><br>
            <label for="birthday">Дата рождения:</label>
            <input type="date" id="birthday" name="birthday"  required><br><br>
            <button id="submitButton" type="submit">Отправить</button>
        </form>
    </div>
</div>

<style>
    .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4);
        /* Затемненный фон */
    }

    .modal-content {
        background-color: #fefefe;
        margin: 10% auto;
        /* Отступ сверху и снизу, чтобы окно было посередине */
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
    }

    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }

    form {
        margin-top: 20px;
    }

    label {
        display: block;
        margin-bottom: 5px;
    }

    input[type="text"],
    input[type="tel"],
    input[type="date"],
    select {
        width: 100%;
        padding: 8px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }

    button[type="submit"] {
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    button[type="submit"]:hover {
        background-color: #45a049;
    }
</style>